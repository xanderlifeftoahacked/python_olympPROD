from datetime import datetime
from enum import Enum

from api.gettime import get_date_str_from_obj


class Templates(Enum):
    NO_ROUTE = '–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ, –Ω–∞ –º–∞—à–∏–Ω–µ –æ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.'
    SELECT_ROUTE = '–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å:'
    ROUTING_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–∏—Å—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    OSM_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    NO_PLACES = '–°–ª–∏—à–∫–æ–º –º–∞–ª–æ –º–µ—Å—Ç –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞!'
    WAIT_PLEASE = '–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –º–∞—Ä—à—Ä—É—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...'
    SEND_LOC = '–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ! –° –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º.'
    SELECT_TYPE = '–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç:'
    ROUTE_READY = '–ú–∞—Ä—à—Ä—É—Ç –≥–æ—Ç–æ–≤!'
    BAD_LOC = '–ù–µ –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –≤–∞—Å! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ.'

    NO_WEATHER = '–ù–µ –º–æ–∂–µ–º —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É!'
    DONT_KNOW = '–¢–∞–∫–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –µ—â–µ –Ω–µ—Ç. –õ–∏–±–æ –≤—ã —É–∂–µ –ø–æ—Å–µ—Ç–∏–ª–∏ —ç—Ç–æ –º–µ—Å—Ç–æ!'

    SELECT_LOCATION = '<b>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ, —Ä—è–¥–æ–º —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–¥–æ –Ω–∞–π—Ç–∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:</b>\n'
    SELECT_CAFE = '<b>–í—ã–±–µ—Ä–∏—Ç–µ, –≥–¥–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∏—Å–∫–∞—Ç—å –µ–¥—É:</b>\n'
    SELECT_HOTELS = '<b>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ, —Ä—è–¥–æ–º —Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ–º –∏—Å–∫–∞—Ç—å –Ω–æ–º–µ—Ä–∞:</b>\n'
    LOCATION_NUMBER = '–õ–æ–∫–∞—Ü–∏—è ‚Ññ'
    OPENTRIP_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–µ–ª—è–º–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ'
    NO_INTERESTING = '–í —Ä–∞–¥–∏—É—Å–µ 10 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏–∫–∞–∫–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–µ—Å—Ç!'
    PLACES_TOVISIT = '–í–æ—Ç 10 –º–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º —Ç–æ—á–Ω–æ —Å—Ç–æ–∏—Ç –ø–æ—Å–µ—Ç–∏—Ç—å!\n\n'
    CAFE_TOVISIT = '–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ñ–µ, –∫—É–¥–∞ –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏:\n\n'
    WAITING_INFO = '–ñ–¥–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é...'
    NO_HOTELS = '–ü–æ–¥—Ö–æ–¥—è—â–∏—Ö –Ω–æ–º–µ—Ä–æ–≤ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!'
    NOTHING_FOUND = '–ù–∏—á–µ–≥–æ –ø–æ–¥–æ—Ö–æ–¥—è—â–µ–≥–æ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!'
    HOTELS_TOVISIT = '<b>–í–æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞ –≤–∞—à–∏ –¥–∞—Ç—ã –¥–≤—É—Ö–º–µ—Å—Ç–Ω—ã–µ –Ω–æ–º–µ—Ä–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ —Å—Ç—ã–¥–Ω–æ –ø–æ—Å–µ–ª–∏—Ç—å—Å—è —Å –ø–æ–¥—Ä—É–∂–∫–æ–π! –í–∞–º –∂–µ –Ω–µ –∂–∞–ª–∫–æ –¥–µ–Ω–µ–≥?</b>\n'

    SELECT_TILE_SOURCE = ('<b>–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã:</b>\n\n'
                          '<b>Yandex</b> - –∑–∞–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n'
                          '<b>OpenStreetMap</b> - –æ—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –Ω–∏–∑–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è')


class TemplatesGen:
    @classmethod
    def weather(cls, sunrise: datetime, sunset: datetime, temp_min: float,
                temp_max: float, weather_condition: str, date: datetime) -> str:
        return f'''<u><i>{get_date_str_from_obj(date)}</i></u>:
  üåÖ {sunrise.strftime("%H:%M")} - {sunset.strftime("%H:%M")}
  üå°Ô∏è {weather_condition},  –æ—Ç {temp_min}‚ÑÉ  –¥–æ {temp_max}‚ÑÉ '''

    @classmethod
    def place(cls, name: str, description: str, distance: int, address: str, is_open: bool, index: int) -> str:
        last_str = '<u>\n–¢–æ—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ —Å–µ–π—á–∞—Å!</u>' if is_open else ''
        prelast_str = f'\n    <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> <i>{description}</i>    ' if description else ''

        return f'<b>{index}. {name}</b>\n    <b>–ê–¥—Ä–µ—Å:</b> {address} <i>({distance}–º)</i>{prelast_str}{last_str}\n\n'

    @classmethod
    def hotel(cls, name: str, desc: str, price: str, index: int) -> str:
        return f'{index}. <b>{name}</b>\n    <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> {desc}\n    <b>–¶–µ–Ω–∞:</b> {price}\n\n'

    @classmethod
    def cafe(cls, name: str, addr: str, url: str, hours: str, index: int) -> str:
        return f'{index}. <b><a href="{url}">{name}</a></b>\n    <b>–ê–¥—Ä–µ—Å:</b> {addr}\n    <b>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</b> {hours}\n\n'
