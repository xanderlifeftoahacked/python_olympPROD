from datetime import datetime
from enum import Enum

from api.gettime import get_date_str_from_obj


class Templates(Enum):
    NO_ROUTE = '–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ, –Ω–∞ –º–∞—à–∏–Ω–µ –æ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.'
    SELECT_ROUTE = '–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å:'
    ROUTING_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–∏—Å—É –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    OSM_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–∞–º–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
    NO_PLACES = '–°–ª–∏—à–∫–æ–º –º–∞–ª–æ –º–µ—Å—Ç –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞!'
    WAIT_PLEASE = '–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –º–∞—Ä—à—Ä—É—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...'
    SEND_LOC = '–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ! –° –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º.'
    SELECT_TYPE = '–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç:'
    ROUTE_READY = '–ú–∞—Ä—à—Ä—É—Ç –≥–æ—Ç–æ–≤!'
    BAD_LOC = '–ù–µ –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –≤–∞—Å! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ.'

    NO_WEATHER = '–ù–µ –º–æ–∂–µ–º —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É!'
    DONT_KNOW = '–¢–∞–∫–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ –µ—â–µ –Ω–µ—Ç. –õ–∏–±–æ –≤—ã —É–∂–µ –ø–æ—Å–µ—Ç–∏–ª–∏ —ç—Ç–æ –º–µ—Å—Ç–æ!'

    SELECT_LOCATION = '<b>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ, —Ä—è–¥–æ–º —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–¥–æ –Ω–∞–π—Ç–∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:</b>\n'
    LOCATION_NUMBER = '–õ–æ–∫–∞—Ü–∏—è ‚Ññ'
    OPENTRIP_ERROR = '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ—Å—Ç–∞–º–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ'
    NO_INTERESTING = '–í —Ä–∞–¥–∏—É—Å–µ 10 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏–∫–∞–∫–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –º–µ—Å—Ç!'
    PLACES_TOVISIT = '–í–æ—Ç 10 –º–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º —Ç–æ—á–Ω–æ —Å—Ç–æ–∏—Ç –ø–æ—Å–µ—Ç–∏—Ç—å!\n\n'


class TemplatesGen:
    @classmethod
    def weather(cls, sunrise: datetime, sunset: datetime, temp_min: float,
                temp_max: float, weather_condition: str, date: datetime) -> str:
        return f'''<u><i>{get_date_str_from_obj(date)}</i></u>:
  üåÖ {sunrise.strftime("%H:%M")} - {sunset.strftime("%H:%M")}
  üå°Ô∏è {weather_condition},  –æ—Ç {temp_min}‚ÑÉ  –¥–æ {temp_max}‚ÑÉ '''

    @classmethod
    def place(cls, name: str, description: str, distance: int, address: str, is_open: bool) -> str:
        if is_open:
            last_str = '<u>–û—Ç–∫—Ä—ã—Ç–æ —Å–µ–π—á–∞—Å!</u>'
        else:
            last_str = '<u>–ó–∞–∫—Ä—ã—Ç–æ —Å–µ–π—á–∞—Å</u>'

        if description:
            prelast_str = f'–û–ø–∏—Å–∞–Ω–∏–µ: <i>{description}</i>\n    '
        else:
            prelast_str = ''

        return f'''<b>{name}</b>
    <b>–ê–¥—Ä–µ—Å:</b> {address} <i>({distance}–º)</i>
    {prelast_str}{last_str}\n\n'''
